<html>
<body>
<canvas id=canvas1 width=800 height=600></canvas>
</body>
<script>
var c = document.getElementById("canvas1").getContext("2d");
var fps = 20;

var fundo = new Image();
fundo.src = "chao.jpg";

var soldado = new Image();
soldado.src = "soldado.png";
soldado_largura = 110;
soldado_altura = 147;
soldado_x = 200;
soldado_y = 200;
soldado_z = 1;
soldado_a = 0;

document.onkeydown = function(e)
{	if (e.keyCode == 37) soldado_x -= 10;
	if (e.keyCode == 38) soldado_y -= 10;
	if (e.keyCode == 39) soldado_x += 10;
	if (e.keyCode == 40) soldado_y += 10;
	if (e.keyCode == 32) soldado_z = 1.2;
	if (e.keyCode == 65) soldado_a -= Math.PI*5/180.0;
	if (e.keyCode == 66) soldado_a += Math.PI*5/180.0;
}

document.onkeyup = function(e)
{	if (e.keyCode == 32) soldado_z = 1;
}

function loop()
{	c.drawImage(fundo,0,0,800,600);

	c.save();
	c.translate(soldado_x+soldado_largura/2,soldado_y+soldado_altura/2);
	c.rotate(soldado_a);
	c.scale(soldado_z,soldado_z);
	c.drawImage(soldado,-soldado_largura/2,-soldado_altura/2,110,147);
	c.restore();
}

var timer1 = setInterval(loop,1000/fps);
</script>
</html>
